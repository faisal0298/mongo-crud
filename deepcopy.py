# a= {
#         "data": {
#             "cd3f1616ef33400bb3a4d17d75b33db9": {
#                 "0": {
#                     "detections": [
#                         {
#                             "object_id": 1835,
#                             "confidence": 0.505859375,
#                             "top": 489.51885986328125,
#                             "left": 981.3321533203125,
#                             "width": 39.2938232421875,
#                             "height": 35.52125930786133,
#                             "result": [([[2, 2], [140, 2], [140, 34], [2, 34]], 'F75.8626,', 0.5130002580908668), 
#                                         ([[156, 2], [288, 2], [288, 34], [156, 34]], 'N15.2313', 0.9993002187350983), 
#                                         ([[298, 4], [478, 4], [478, 34], [298, 34]], '202211-10', 0.9267845818513353), 
#                                         ([[488, 2], [736, 2], [736, 34], [488, 34]], '23.48.59.336494', 0.7395403080405121)
#                                     ]
#                         }
#                     ]
#                 },
#                 "1": {
#                     "detections": [{
#                             "object_id": 1245,
#                             "confidence": 0.505859375,
#                             "top": 489.51885986328125,
#                             "left": 981.3321533203125,
#                             "width": 39.2938232421875,
#                             "height": 35.52125930786133,
#                             "result": [([[2, 2], [140, 2], [140, 34], [2, 34]], 'F75.8626,', 0.5130002580908668), 
#                                         ([[156, 2], [288, 2], [288, 34], [156, 34]], 'N15.2313', 0.9993002187350983), 
#                                         ([[298, 4], [478, 4], [478, 34], [298, 34]], '202211-10', 0.9267845818513353), 
#                                         ([[488, 2], [736, 2], [736, 34], [488, 34]], '23.48.59.336494', 0.7395403080405121)
#                                     ]
#                         }]
#                 },
#                 "buffer_index": "8"
#             }}}

# a={
#     "data": {
#         "1bfa0d51c4984801bb4ddbd760bfe9c5": {
#             "0": {
#                 "detections": [
#                     {
#                         "object_id": 4,
#                         "confidence": -0.10000000149011612,
#                         "top": 288.6201171875,
#                         "left": 146.48348999023438,
#                         "width": 96.19253540039062,
#                         "height": 239.68780517578125,
#                         "trajectory": {
#                             "2": {
#                                 "7": [
#                                     [
#                                         462,
#                                         348
#                                     ]
#                                 ],
#                                 "0": [
#                                     [
#                                         397,
#                                         338
#                                     ]
#                                 ],
#                                 "8": [
#                                     [
#                                         856,
#                                         361
#                                     ]
#                                 ],
#                                 "9": [
#                                     [
#                                         1210,
#                                         419
#                                     ]
#                                 ]
#                             },
#                             "0": {
#                                 "4": [
#                                     [
#                                         195,
#                                         408
#                                     ]
#                                 ],
#                                 "5": [
#                                     [
#                                         298,
#                                         397
#                                     ]
#                                 ],
#                                 "10": [
#                                     [
#                                         87,
#                                         414
#                                     ]
#                                 ]
#                             },
#                             "24": {
#                                 "6": [
#                                     [
#                                         178,
#                                         360
#                                     ]
#                                 ]
#                             }
#                         }
#                     },
#                     {
#                         "object_id": 5,
#                         "confidence": -0.10000000149011612,
#                         "top": 315.32659912109375,
#                         "left": 261.976806640625,
#                         "width": 71.41787719726562,
#                         "height": 162.6285858154297,
#                         "trajectory": {
#                             "2": {
#                                 "7": [
#                                     [
#                                         462,
#                                         348
#                                     ]
#                                 ],
#                                 "0": [
#                                     [
#                                         397,
#                                         338
#                                     ]
#                                 ],
#                                 "8": [
#                                     [
#                                         856,
#                                         361
#                                     ]
#                                 ],
#                                 "9": [
#                                     [
#                                         1210,
#                                         419
#                                     ]
#                                 ]
#                             },
#                             "0": {
#                                 "4": [
#                                     [
#                                         195,
#                                         408
#                                     ]
#                                 ],
#                                 "5": [
#                                     [
#                                         298,
#                                         397
#                                     ]
#                                 ],
#                                 "10": [
#                                     [
#                                         87,
#                                         414
#                                     ]
#                                 ]
#                             },
#                             "24": {
#                                 "6": [
#                                     [
#                                         178,
#                                         360
#                                     ]
#                                 ]
#                             }
#                         }
#                     },
#                     {
#                         "object_id": 10,
#                         "confidence": -0.10000000149011612,
#                         "top": 310.00286865234375,
#                         "left": 36.26435852050781,
#                         "width": 100.77003479003906,
#                         "height": 207.24488830566406,
#                         "trajectory": {
#                             "2": {
#                                 "7": [
#                                     [
#                                         462,
#                                         348
#                                     ]
#                                 ],
#                                 "0": [
#                                     [
#                                         397,
#                                         338
#                                     ]
#                                 ],
#                                 "8": [
#                                     [
#                                         856,
#                                         361
#                                     ]
#                                 ],
#                                 "9": [
#                                     [
#                                         1210,
#                                         419
#                                     ]
#                                 ]
#                             },
#                             "0": {
#                                 "4": [
#                                     [
#                                         195,
#                                         408
#                                     ]
#                                 ],
#                                 "5": [
#                                     [
#                                         298,
#                                         397
#                                     ]
#                                 ],
#                                 "10": [
#                                     [
#                                         87,
#                                         414
#                                     ]
#                                 ]
#                             },
#                             "24": {
#                                 "6": [
#                                     [
#                                         178,
#                                         360
#                                     ]
#                                 ]
#                             }
#                         }
#                     }
#                 ]
#             },
#             "1": {
#                 "detections": []
#             },
#             "2": {
#                 "detections": [
#                     {
#                         "object_id": 7,
#                         "confidence": -0.10000000149011612,
#                         "top": 317.92706298828125,
#                         "left": 418.5587158203125,
#                         "width": 87.14883422851562,
#                         "height": 60.832359313964844,
#                         "trajectory": {
#                             "2": {
#                                 "7": [
#                                     [
#                                         462,
#                                         348
#                                     ]
#                                 ],
#                                 "0": [
#                                     [
#                                         397,
#                                         338
#                                     ]
#                                 ],
#                                 "8": [
#                                     [
#                                         856,
#                                         361
#                                     ]
#                                 ],
#                                 "9": [
#                                     [
#                                         1210,
#                                         419
#                                     ]
#                                 ]
#                             },
#                             "0": {
#                                 "4": [
#                                     [
#                                         195,
#                                         408
#                                     ]
#                                 ],
#                                 "5": [
#                                     [
#                                         298,
#                                         397
#                                     ]
#                                 ],
#                                 "10": [
#                                     [
#                                         87,
#                                         414
#                                     ]
#                                 ]
#                             },
#                             "24": {
#                                 "6": [
#                                     [
#                                         178,
#                                         360
#                                     ]
#                                 ]
#                             }
#                         }
#                     },
#                     {
#                         "object_id": 0,
#                         "confidence": -0.10000000149011612,
#                         "top": 318.5071105957031,
#                         "left": 372.24749755859375,
#                         "width": 50.37347412109375,
#                         "height": 39.019630432128906,
#                         "trajectory": {
#                             "2": {
#                                 "7": [
#                                     [
#                                         462,
#                                         348
#                                     ]
#                                 ],
#                                 "0": [
#                                     [
#                                         397,
#                                         338
#                                     ]
#                                 ],
#                                 "8": [
#                                     [
#                                         856,
#                                         361
#                                     ]
#                                 ],
#                                 "9": [
#                                     [
#                                         1210,
#                                         419
#                                     ]
#                                 ]
#                             },
#                             "0": {
#                                 "4": [
#                                     [
#                                         195,
#                                         408
#                                     ]
#                                 ],
#                                 "5": [
#                                     [
#                                         298,
#                                         397
#                                     ]
#                                 ],
#                                 "10": [
#                                     [
#                                         87,
#                                         414
#                                     ]
#                                 ]
#                             },
#                             "24": {
#                                 "6": [
#                                     [
#                                         178,
#                                         360
#                                     ]
#                                 ]
#                             }
#                         }
#                     },
#                     {
#                         "object_id": 8,
#                         "confidence": -0.10000000149011612,
#                         "top": 328.90673828125,
#                         "left": 783.932373046875,
#                         "width": 144.65936279296875,
#                         "height": 64.67345428466797,
#                         "trajectory": {
#                             "2": {
#                                 "7": [
#                                     [
#                                         462,
#                                         348
#                                     ]
#                                 ],
#                                 "0": [
#                                     [
#                                         397,
#                                         338
#                                     ]
#                                 ],
#                                 "8": [
#                                     [
#                                         856,
#                                         361
#                                     ]
#                                 ],
#                                 "9": [
#                                     [
#                                         1210,
#                                         419
#                                     ]
#                                 ]
#                             },
#                             "0": {
#                                 "4": [
#                                     [
#                                         195,
#                                         408
#                                     ]
#                                 ],
#                                 "5": [
#                                     [
#                                         298,
#                                         397
#                                     ]
#                                 ],
#                                 "10": [
#                                     [
#                                         87,
#                                         414
#                                     ]
#                                 ]
#                             },
#                             "24": {
#                                 "6": [
#                                     [
#                                         178,
#                                         360
#                                     ]
#                                 ]
#                             }
#                         }
#                     },
#                     {
#                         "object_id": 9,
#                         "confidence": -0.10000000149011612,
#                         "top": 348.46502685546875,
#                         "left": 1141.761962890625,
#                         "width": 136.5372314453125,
#                         "height": 140.89083862304688,
#                         "trajectory": {
#                             "2": {
#                                 "7": [
#                                     [
#                                         462,
#                                         348
#                                     ]
#                                 ],
#                                 "0": [
#                                     [
#                                         397,
#                                         338
#                                     ]
#                                 ],
#                                 "8": [
#                                     [
#                                         856,
#                                         361
#                                     ]
#                                 ],
#                                 "9": [
#                                     [
#                                         1210,
#                                         419
#                                     ]
#                                 ]
#                             },
#                             "0": {
#                                 "4": [
#                                     [
#                                         195,
#                                         408
#                                     ]
#                                 ],
#                                 "5": [
#                                     [
#                                         298,
#                                         397
#                                     ]
#                                 ],
#                                 "10": [
#                                     [
#                                         87,
#                                         414
#                                     ]
#                                 ]
#                             },
#                             "24": {
#                                 "6": [
#                                     [
#                                         178,
#                                         360
#                                     ]
#                                 ]
#                             }
#                         }
#                     }
#                 ]
#             },
#             "3": {
#                 "detections": []
#             },
#             "4": {
#                 "detections": []
#             },
#             "5": {
#                 "detections": []
#             },
#             "6": {
#                 "detections": []
#             },
#             "7": {
#                 "detections": []
#             },
#             "8": {
#                 "detections": []
#             },
#             "9": {
#                 "detections": []
#             },
#             "10": {
#                 "detections": []
#             },
#             "11": {
#                 "detections": []
#             },
#             "12": {
#                 "detections": []
#             },
#             "13": {
#                 "detections": []
#             },
#             "14": {
#                 "detections": []
#             },
#             "15": {
#                 "detections": []
#             },
#             "16": {
#                 "detections": []
#             },
#             "17": {
#                 "detections": []
#             },
#             "18": {
#                 "detections": []
#             },
#             "19": {
#                 "detections": []
#             },
#             "20": {
#                 "detections": []
#             },
#             "21": {
#                 "detections": []
#             },
#             "22": {
#                 "detections": []
#             },
#             "23": {
#                 "detections": []
#             },
#             "24": {
#                 "detections": [
#                     {
#                         "object_id": 6,
#                         "confidence": -0.10000000149011612,
#                         "top": 326.9173278808594,
#                         "left": 155.00601196289062,
#                         "width": 45.818267822265625,
#                         "height": 67.09207153320312,
#                         "trajectory": {
#                             "2": {
#                                 "7": [
#                                     [
#                                         462,
#                                         348
#                                     ],
#                                      [
#                                         464,
#                                         345
#                                     ],
#                                     [
#                                         466,
#                                         347
#                                     ],
#                                      [
#                                         999,
#                                         999
#                                     ]

#                                 ],
#                                 "0": [
#                                     [
#                                         397,
#                                         338
#                                     ]
#                                 ],
#                                 "8": [
#                                     [
#                                         856,
#                                         361
#                                     ]
#                                 ],
#                                 "9": [
#                                     [
#                                         1210,
#                                         419
#                                     ]
#                                 ]
#                             },
#                             "0": {
#                                 "4": [
#                                     [
#                                         195,
#                                         408
#                                     ]
#                                 ],
#                                 "5": [
#                                     [
#                                         298,
#                                         397
#                                     ]
#                                 ],
#                                 "10": [
#                                     [
#                                         87,
#                                         414
#                                     ]
#                                 ]
#                             },
#                             "24": {
#                                 "6": [
#                                     [
#                                         178,
#                                         360
#                                     ]
#                                 ]
#                             }
#                         }
#                     }
#                 ]
#             },
#             "25": {
#                 "detections": []
#             },
#             "26": {
#                 "detections": []
#             },
#             "27": {
#                 "detections": []
#             },
#             "28": {
#                 "detections": []
#             },
#             "29": {
#                 "detections": []
#             },
#             "30": {
#                 "detections": []
#             },
#             "31": {
#                 "detections": []
#             },
#             "32": {
#                 "detections": []
#             },
#             "33": {
#                 "detections": []
#             },
#             "34": {
#                 "detections": []
#             },
#             "35": {
#                 "detections": []
#             },
#             "36": {
#                 "detections": []
#             },
#             "37": {
#                 "detections": []
#             },
#             "38": {
#                 "detections": []
#             },
#             "39": {
#                 "detections": []
#             },
#             "40": {
#                 "detections": []
#             },
#             "41": {
#                 "detections": []
#             },
#             "42": {
#                 "detections": []
#             },
#             "43": {
#                 "detections": []
#             },
#             "44": {
#                 "detections": []
#             },
#             "45": {
#                 "detections": []
#             },
#             "46": {
#                 "detections": []
#             },
#             "47": {
#                 "detections": []
#             },
#             "48": {
#                 "detections": []
#             },
#             "49": {
#                 "detections": []
#             },
#             "50": {
#                 "detections": []
#             },
#             "51": {
#                 "detections": []
#             },
#             "52": {
#                 "detections": []
#             },
#             "53": {
#                 "detections": []
#             },
#             "54": {
#                 "detections": []
#             },
#             "55": {
#                 "detections": []
#             },
#             "56": {
#                 "detections": []
#             },
#             "57": {
#                 "detections": []
#             },
#             "58": {
#                 "detections": []
#             },
#             "59": {
#                 "detections": []
#             },
#             "60": {
#                 "detections": []
#             },
#             "61": {
#                 "detections": []
#             },
#             "62": {
#                 "detections": []
#             },
#             "63": {
#                 "detections": []
#             },
#             "64": {
#                 "detections": []
#             },
#             "65": {
#                 "detections": []
#             },
#             "66": {
#                 "detections": []
#             },
#             "67": {
#                 "detections": []
#             },
#             "68": {
#                 "detections": []
#             },
#             "69": {
#                 "detections": []
#             },
#             "70": {
#                 "detections": []
#             },
#             "71": {
#                 "detections": []
#             },
#             "72": {
#                 "detections": []
#             },
#             "73": {
#                 "detections": []
#             },
#             "74": {
#                 "detections": []
#             },
#             "75": {
#                 "detections": []
#             },
#             "76": {
#                 "detections": []
#             },
#             "77": {
#                 "detections": []
#             },
#             "78": {
#                 "detections": []
#             },
#             "79": {
#                 "detections": []
#             },
#             "buffer_index": "0"
#         }
#     },
#     "room": "object_detector"
# }


# state = {}
# for cam, data in a.get("data").items():
#     for cls_id, detections in data.items():
#         if cls_id != "buffer_index":
#             if any(detections.keys()) and len(detections["detections"]) >0:                    
#                 # print(cls_id)
#                 for d,v in detections["detections"][0]["trajectory"].items():
#                     state[d] = []   
#                     # for b in detections["detections"][0]["trajectory"].values():
#                         # state[d].append()
#                         # print(cam,d,list(b.values()))
#                         # print(list(d.values()))
#                     # print(list(v.values()))
#                     for s in list(v.values()):                                                       
#                         state[d].extend(s)
# print(state)

# for key in a.items():
#     for items in a[key]:
#         if type(items)==dict:
#             for data in items["detections"]:
#                 print(data["trajectory"])



### parse the given input_dictionary into output_dictionary using basic loops and conditional operators in python
'''input_dictionary = {
    "role_wise_permissions" : [
        {
            "roleName": "superadmin",
            "permissions": [
                {
                    "permissionName" : "profile",
                    "canView" : True,
                    "canAdd" : False,
                    "canEdit" : True,
                    "canDelete" : False,
                    "canUpload" : False,
                    "canDownload" : False
                },
                {
                    "permissionName" : "tags",
                    "canView" : True,
                    "canAdd" : True,
                    "canEdit" : True,:
                    "canDelete" : True,
                    "canUpload" : False,
                    "canDownload" : False
                }
            ] 
        },
        {
            "roleName": "user",
            "permissions": [
                {
                    "permissionName" : "profile",
                    "canView" : True,
                    "canAdd" : False,
                    "canEdit" : True,
                    "canDelete" : False,
                    "canUpload" : False,
                    "canDownload" : False
                },
                {
                    "permissionName" : "tags",
                    "canView" : True,
                    "canAdd" : True,
                    "canEdit" : True,
                    "canDelete" : True,
                    "canUpload" : False,
                    "canDownload" : False
                }
            ] 
        }
    ]
}


### expected output 
output_dictionary = {
    "profile": {
        "canView" : ["superadmin", "user"],
        "canAdd" : [],
        "canEdit" : ["superadmin", "user"],
        "canDelete" : [],
        "canUpload" : [],
        "canDownload" : []
    },
    "tags": {
        "canView" : ["superadmin", "user"],
        "canAdd" : ["superadmin", "user"],
        "canEdit" : ["superadmin", "user"],
        "canDelete" : ["superadmin", "user"],
        "canUpload" : [],
        "canDownload" : []
    }
}'''


# for cam,v in a["data"].items():
#     for t,s in v.items():
#         if type(s)==dict:
#             for i in s["detections"]:
#                 print(i["result"])

# op_dict={}
# for key in input_dictionary.keys():
#     for items in input_dictionary[key]:
        # for data in items["permissions"]:
            # print(items["permissions"])
            # d={}
            # if data["canView"]==True:
            #     # d[data["permissionName"]]
            #     d["canView"]=[items["roleName"]]
            # if data["canAdd"]==True:
            #     d["canAdd"]=[items["roleName"]]
            # if data["canEdit"]==True:
            #     d["canEdit"]=[items["roleName"]]
            # if data["canDelete"]==True:
            #     d["canDelete"]=[items["roleName"]]
            # if data["canUpload"]==True:
            #     d["canUpload"]=[items["roleName"]]
            # if data["canDownload"]==True:
            #     d["canDownload"]=[items["roleName"]]
            # print(d)



# -------------- bytes to image --------------


# from PIL import Image
# from io import BytesIO

# data =()

# stream = BytesIO(data)

# image = Image.open(stream).convert("RGBA")
# stream.close()
# image.show()





# from PIL import Image
# import io

# data =()
# imageStream = io.BytesIO(data)
# imageFile = Image.open(imageStream)
# imageFile.show()





# ----------- base64 string to image --------------

# import base64 
# png_recovered = base64.b64decode('')

# img_file = open('image.jpeg', 'wb')
# img_file.write(png_recovered)
# img_file.close()